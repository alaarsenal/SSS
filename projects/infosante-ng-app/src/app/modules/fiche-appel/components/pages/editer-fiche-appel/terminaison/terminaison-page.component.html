<div>
  <div class="row btn-terminer">
    <button class="btn btn-primary"
            (click)="onBtnTerminerClick()"
            title="{{'sigct.ss.menugrise.btntrmnrdinfobulle'|translate}}">{{'sigct.ss.menugrise.btntrmnr'|translate}}</button>
  </div>
  <div class="row">
    <msss-sigct-content-zone id="validationFinIntervention"
                             title="{{ 'sigct.sa.f_appel.terminaison.validfinintervention' | translate }}">

      <div class="contentZone">
        <app-validation-fin-intervention #appValidationFinIntervention
                                         [idFicheAppel]="ficheAppel.id"
                                         [typeFiche]="ficheAppel.typeConsultation"
                                         [referencesValidationsInput]="referencesValidations"
                                         [referencesRaisonCpInconnusInput]="referencesRaisonCpInconnus"
                                         [referencesCategoriesAppelantInput]="referencesCategoriesAppelant"
                                         [validationFinInterventionInput]="validationFinInterventionDTO"
                                         [listeProjetRecherches]="listeProjetRecherche"
                                         (projetRechercheSave)="onProjetRechercheSave($event)"
                                         (projetRechercheDelete)="onProjetRechercheDelete($event)"
                                         >
        </app-validation-fin-intervention>
      </div>

    </msss-sigct-content-zone>
  </div>
  <div class="row">
    <msss-sigct-content-zone id="statistiques"
                             title="{{ 'sigct.sa.f_appel.terminaison.statistiques' | translate }}">

      <div class="contentZone">

        <app-statistiques #appStatistiques
                          [listeRaisonAppel]="listeRaisonAppel"
                          [listeReferenceRaison]="listeReferenceRaison"
                          [listeReferenceRole]="listeReferenceRole"
                          (raisonAppelSave)="onRaisonAppelSave($event)"
                          (raisonAppelDelete)="onRaisonAppelDelete($event)"
                          [listeRoleAction]="listeRoleAction"
                          (roleActionSave)="onRoleActionSave($event)"
                          (roleActionDelete)="onRoleActionDelete($event)">

        </app-statistiques>
        <div class="row">

          <div class="col-md-6 padding-left-15 no-padding-right">

            <msss-sigct-chosen #liste_langue
                               label="sigct.sa.f_appel.terminaison.statistiques.langueconsultation"
                               name="langue"
                               required
                               id="langue"
                               [required]="true"
                               [options]="inputOptionsLangue"
                               [valide]="isLangueValide"
                               [(ngModel)]="ficheAppel.referenceLangueAppelCode"
                               (optionSelected)="onLangueChange($event)">
            </msss-sigct-chosen>
          </div>

        </div>
        <div class="row">

          <div class="col-md-6 padding-left-15 no-padding-right">

            <msss-sigct-chosen #liste_centre_activite
                               label="sigct.sa.f_appel.terminaison.statistiques.centreactivite"
                               name="centreactivite"
                               required
                               id="centreactivite"
                               [options]="inputOptionsCentreActivite"
                               [required]="true"
                               [valide]="isCentreActiviteValide"
                               [(ngModel)]="ficheAppel.referenceCentreActiviteCode"
                               (optionSelected)="onCentreActiviteChange($event)">
            </msss-sigct-chosen>
          </div>

        </div>


      </div>

    </msss-sigct-content-zone>
  </div>

  <div class="row">
    <div class="col-md-6">
      <msss-sigct-content-zone id="dureeFicheAppel"
                               title="{{ 'sigct.ss.f_appel.terminaison.dureefiche' | translate }}">
        <div class="contentZone">
          <msss-duree-fiche-appel #appDureeFicheAppel
                                  [dureeFicheAppel]="dureeFicheAppelDto"
                                  (onClickConfirmerDureeEvent)="onBtnConfirmerDureeClick($event)">
          </msss-duree-fiche-appel>
        </div>
      </msss-sigct-content-zone>
    </div>

    <div class="col-md-6">
      <msss-sigct-content-zone id="servicesUtilises"
                               title="{{ 'sigct.sa.f_appel.terminaison.servicesutilises' | translate }}">
        <div class="contentZone">
          <msss-services-utilises #appServicesUtilises
                                  [inputServicesUtilises]="servicesUtilisesDTO">
          </msss-services-utilises>
        </div>
      </msss-sigct-content-zone>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12 no-padding-right no-padding-left">
      <msss-sigct-content-zone id="interaction"
                               title="sigct.ss.f_appel.consultation.terminaison.interaction">
        <div class="contentZone">
          <msss-interaction-terminaison [appelDto]="appelDTO">
          </msss-interaction-terminaison>
        </div>
      </msss-sigct-content-zone>
    </div>
  </div>
</div>

<msss-grise-automatique-selon-type-intervention #griseAutomatique
                                                [codeReferenceTypeFiche]="ficheAppel.typeConsultation"
                                                [nomPertDiabledList]="[appValidationFinIntervention]"
                                                [demandeRessoucesList]="[appValidationFinIntervention]">
</msss-grise-automatique-selon-type-intervention>
